## 1Бэкэнд проекта "Кабинет репетитора"

`Кабинет репетитора` - сайт сервиса для репетиторов. Бэкенд проекта представляет из себя RESTful API, позволяющий



Для проекта написан ci/cd пайплайн с автоматической проверкой форматирования кода при открытии пул-реквестов, автоматическим тестированием при мерже в основую ветку разработки и деплоем на тестовый сервер. Дополнительно происходит автоматический деплой документации API при изменениях.


## Содержание

- [Документация к проекту](#документация-к-проекту)
- [Как приступить к разработке?](#как-приступить-к-разработке)
- [Несколько требований к проекту](#несколько-требований-к-проекту)
- [Использованные технологии](#использованные-технологии)
- [Авторы](#авторы)

## 2Документация к проекту

 - [Описание моделей, диаграмма]()
 - [Документация к API](http://77.232.131.254/docs/redoc.html)

<p align="right"><a href="#top">⬆️ Наверх</a></p>

## Как приступить к разработке?

  1. Клонировать репозиторий `git clone https://github.com/TutorOffice/TutorOffice-backend.git`
  2. Перейти в папку с проектом `cd core`
  3. Создать и активировать виртуальное окружение
     ```
     python -m venv .venv
     source env/bin/activate - (активация для Linux)
     .venv\Scripts\activate - (активация для Windows)
     ```
  4. Установить зависимости
     ```
     python -m pip install --upgrade pip
     pip install -r requirements.txt
     ```
  5. Во внутренней папке core cоздать файл .env по шаблону:
     ```
     EMAIL_HOST_USER=lk.repetitor@mail.ru
     EMAIL_HOST_PASSWORD=<Пароль спрашивайте в дискорде>
     EMAIL_HOST = 'smtp.mail.ru'
     EMAIL_PORT = 465
     EMAIL_USE_SSL = True
     EMAIL_USE_TLS = False
     SECRET_KEY=random-django-secret-key
     DJANGO_ALLOWED_HOSTS="127.0.0.1 localhost"
     DEBUG=True
     ```
  6. Применить миграции и запустить сервер
     ```
     python manage.py migrate
     python manage.py runserver
     ```
  7. В отдельном терминале запустить воркер celery (требуется также Redis)
     ```
     celery -A core worker -l info
     ```
  7.1 Для Windows у celery есть специальный костыль.
     ```
     celery -A core worker -l info --pool=solo
     ```
  8. Перейти в ветку разраработки `git checkout dev`
  9. Из ветки `dev` создать и перейти в ветку с названием вашей работы `git checkout -b feature/api`
  10. Можно приступать к работе :)

<p align="right"><a href="#top">⬆️ Наверх</a></p>

## Несколько требований к проекту

  - Оформляем код по [PEP8](https://peps.python.org/pep-0008/)
  - Форматируем код black с настройкой `--line-length=79 --skip-string-normalization`, isort
  - Кавычки везде, где применимо одинарные
  - Все классы и основные функции документируем хотя бы в 1 строку: `"""Модель юзеров"""`
  - Используем линтер flake8 (перед PR обязательно)
  - Для именования запрещены транслит, сокращения, названия переменных, приложений, урлов и т.д. должны быть переведены на английский

<p align="right"><a href="#top">⬆️ Наверх</a></p>

## Как работать с git

 - Проект содержит основую ветку `main`. Она предназначена для релизного состояния приложения
 - Ветка `release` является предрелизной и предназначена для фиксации функционала из ветки dev и для его последующего предоставления тестировщикам.
 - Ветка `dev` предназначена для слияния работ.
 - Для того чтобы смержить изменения в ветку `dev` необходимо из этой ветки создать ветку с вашей работой и создать пул реквест
 - Название вашей рабочей ветки должно отражать вашу работу. Например `feature/api-users` или `feature/models`
 - Коммиты разрешается писать как на русском, так и на английском. Начинается коммит с глагола, отвечающий на вопрос "что будет, если этот коммит слить с остальным кодом?" Например, "фиксит пермишины" или "добавляет тесты эндпоинта юзеров"
 - Если пул реквест принят ветка в которой велась разработка удаляется
 - [Подробнее о git-flow](https://github.com/SergeFocus/git-flow)

<p align="right"><a href="#top">⬆️ Наверх</a></p>

## Использованные технологии

 - Python 3.11
 - Django
 - Django Rest Framework
 - Celery
 - Redis
 - Docker

## Авторы:

 - [Данил](https://github.com/orbins)
 - [Ирина](https://github.com/IrinaFinatova)
 - [Рабадан](https://github.com/Rabadan-Ibr)
 - [Александр](https://github.com/SanUlrich)

 <p align="right"><a href="#top">⬆️ Наверх</a></p>